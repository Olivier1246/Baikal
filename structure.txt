################################################################################
#                    STRUCTURE DU PROJET BAIKAL INSTALL SUITE                  #
################################################################################

VERSION : 2.0
DATE : 2025-01-24
AUTEUR : Claude (Anthropic) pour Olivier

================================================================================
VUE D'ENSEMBLE
================================================================================

Ce projet fournit une suite complète pour installer, maintenir et dépanner
un serveur Baïkal (CalDAV/CardDAV) sur Debian/Ubuntu.

PHILOSOPHIE DE CONCEPTION :
- Modularité : Chaque script a une fonction précise
- Organisation : Scripts regroupés par catégorie
- Maintenance : Code facile à comprendre et modifier
- Documentation : Commentaires exhaustifs dans chaque script

================================================================================
ARBORESCENCE COMPLÈTE
================================================================================

baikal-install-suite/
│
├── .gitignore                    # Fichiers à ignorer par Git
├── README.md                     # Documentation principale (Markdown)
├── structure.txt                 # Ce fichier - Architecture du projet
├── LICENSE                       # Licence MIT
│
├── install/                      # DOSSIER 1 - INSTALLATION
│   ├── start.sh                 # ⭐ Menu interactif principal
│   ├── check_prereqs.sh         # Vérification prérequis système
│   ├── baikal_install.sh        # Installation Baïkal complète
│   ├── setup_ssl.sh             # Configuration SSL/HTTPS (Let's Encrypt)
│   └── upgrade_php.sh           # Mise à jour PHP 8.2/8.3
│
├── maintenance/                  # DOSSIER 2 - MAINTENANCE & MONITORING
│   ├── monitor.sh               # Monitoring système complet
│   ├── backup.sh                # Backup manuel
│   ├── setup_backup.sh          # Configuration backups automatiques
│   ├── update.sh                # Mise à jour Baïkal
│   └── check_updates.sh         # Vérifier disponibilité mises à jour
│
├── troubleshoot/                 # DOSSIER 3 - DÉPANNAGE
│   ├── diagnose.sh              # Diagnostic système complet
│   ├── fix_permissions.sh       # Correction permissions fichiers
│   ├── fix_database.sh          # Réparation base de données
│   └── fix_principals.sh        # Correction URIs utilisateurs
│
└── docs/                         # DOSSIER 4 - DOCUMENTATION
    ├── INSTALL.md               # Guide installation détaillé
    ├── CLIENTS.md               # Configuration clients (iOS, Android...)
    ├── TROUBLESHOOTING.md       # Guide dépannage
    ├── MYSQL.md                 # Configuration MySQL avancée
    └── SECURITY.md              # Sécurité et bonnes pratiques

================================================================================
DOSSIER 1 : install/
================================================================================

Contient tous les scripts nécessaires à l'installation initiale de Baïkal.

┌─────────────────────────────────────────────────────────────────────────┐
│ start.sh - Menu interactif principal                                     │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Point d'entrée principal avec menu interactif pour guider              │
│   l'utilisateur à travers toutes les étapes.                            │
│                                                                          │
│ UTILISATION :                                                            │
│   sudo ./install/start.sh                                                │
│                                                                          │
│ OPTIONS DU MENU :                                                        │
│   1. Vérifier prérequis                                                 │
│   2. Installation complète (recommandé)                                  │
│   3. Installation personnalisée                                          │
│   4. Configuration SSL                                                   │
│   5. Configuration backups                                               │
│   6. Monitoring système                                                  │
│   7. Documentation                                                       │
│                                                                          │
│ DÉPENDANCES :                                                            │
│   - check_prereqs.sh                                                     │
│   - baikal_install.sh                                                    │
│   - setup_ssl.sh                                                         │
│   - ../maintenance/setup_backup.sh                                       │
│   - ../maintenance/monitor.sh                                            │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│ check_prereqs.sh - Vérification prérequis                                │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Vérifie que le système remplit tous les prérequis avant installation. │
│                                                                          │
│ VÉRIFICATIONS :                                                          │
│   ✓ Privilèges root                                                     │
│   ✓ Système d'exploitation (Debian/Ubuntu)                              │
│   ✓ Espace disque (>1Go)                                                │
│   ✓ RAM (>512Mo)                                                        │
│   ✓ Connectivité Internet                                               │
│   ✓ Ports 80 et 443 disponibles                                         │
│   ✓ Services conflictuels (Apache, Lighttpd)                            │
│                                                                          │
│ SORTIE :                                                                 │
│   - Code 0 si tout OK                                                   │
│   - Code 1 si erreurs critiques                                         │
│   - Affiche avertissements si problèmes mineurs                         │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│ baikal_install.sh - Installation Baïkal                                  │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Installation complète de Baïkal avec toutes ses dépendances.          │
│                                                                          │
│ ÉTAPES D'INSTALLATION :                                                 │
│   1. Mise à jour du système                                             │
│   2. Installation PHP 8.2/8.3 + extensions                              │
│   3. Installation Nginx                                                  │
│   4. Installation MySQL (optionnel)                                      │
│   5. Téléchargement Baïkal depuis GitHub                                │
│   6. Configuration Nginx                                                 │
│   7. Configuration permissions                                           │
│   8. Redémarrage services                                                │
│                                                                          │
│ PARAMÈTRES INTERACTIFS :                                                │
│   - Nom de domaine (ou localhost)                                       │
│   - Type de base : SQLite ou MySQL                                      │
│   - Credentials MySQL (si MySQL choisi)                                 │
│                                                                          │
│ FICHIERS CRÉÉS :                                                        │
│   /var/www/baikal/              - Installation Baïkal                   │
│   /etc/nginx/sites-*/baikal     - Config Nginx                          │
│   /root/baikal_install_info.txt - Infos installation                    │
│                                                                          │
│ PERMISSIONS CONFIGURÉES :                                               │
│   /var/www/baikal/         → 755 (www-data:www-data)                   │
│   Specific/                → 770 (www-data:www-data)                    │
│   config/                  → 770 (www-data:www-data)                    │
│   Specific/db/db.sqlite    → 660 (www-data:www-data)                    │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│ setup_ssl.sh - Configuration SSL                                         │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Configure HTTPS avec certificat Let's Encrypt gratuit.                │
│                                                                          │
│ PRÉREQUIS :                                                             │
│   - Nom de domaine configuré                                            │
│   - DNS pointant vers le serveur                                        │
│   - Ports 80 et 443 accessibles                                         │
│                                                                          │
│ ÉTAPES :                                                                │
│   1. Installation Certbot                                               │
│   2. Obtention certificat SSL                                           │
│   3. Configuration Nginx pour HTTPS                                     │
│   4. Redirection HTTP → HTTPS                                           │
│   5. Configuration renouvellement auto                                  │
│                                                                          │
│ SÉCURITÉ SSL :                                                          │
│   - TLS 1.2 et 1.3 uniquement                                           │
│   - Headers de sécurité (HSTS, X-Frame-Options...)                     │
│   - Ciphers modernes uniquement                                         │
│                                                                          │
│ FICHIERS CRÉÉS :                                                        │
│   /root/baikal_ssl_info.txt - Infos SSL                                 │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│ upgrade_php.sh - Mise à jour PHP                                         │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Met à jour PHP vers version 8.2 ou 8.3 (requis pour Baïkal 0.11+).   │
│                                                                          │
│ ACTIONS :                                                                │
│   1. Détection version PHP actuelle                                     │
│   2. Ajout repository Ondrej PPA                                        │
│   3. Installation PHP 8.2 ou 8.3 + extensions                          │
│   4. Configuration php.ini optimisée                                    │
│   5. Mise à jour config Nginx                                           │
│   6. Activation nouveau PHP-FPM                                         │
│   7. Désactivation ancien PHP-FPM                                       │
│                                                                          │
│ EXTENSIONS INSTALLÉES :                                                 │
│   php-fpm, php-cli, php-curl, php-mbstring, php-xml, php-zip,          │
│   php-sqlite3, php-mysql, php-gd, php-intl                              │
└─────────────────────────────────────────────────────────────────────────┘

================================================================================
DOSSIER 2 : maintenance/
================================================================================

Scripts pour la maintenance quotidienne, monitoring et mises à jour.

┌─────────────────────────────────────────────────────────────────────────┐
│ monitor.sh - Monitoring système                                          │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Surveillance complète de l'état du système Baïkal.                    │
│                                                                          │
│ VÉRIFICATIONS :                                                          │
│   ✓ Services (Nginx, PHP-FPM)                                           │
│   ✓ Espace disque (/, /var/www, /var/backups)                          │
│   ✓ Base de données (intégrité SQLite/MySQL)                           │
│   ✓ Logs (erreurs récentes)                                            │
│   ✓ Certificat SSL (validité, expiration)                              │
│   ✓ Backups (date dernier backup)                                      │
│   ✓ Permissions fichiers                                                │
│   ✓ Connectivité (HTTP local et distant)                               │
│                                                                          │
│ SORTIE :                                                                 │
│   Rapport coloré avec indicateurs ✓ ✗ ⚠                                │
│   Résumé des problèmes détectés                                         │
│   Recommandations de correction                                         │
│                                                                          │
│ UTILISATION :                                                            │
│   sudo ./maintenance/monitor.sh                                          │
│   (Peut être ajouté à cron pour monitoring automatique)                 │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│ backup.sh - Backup manuel                                                │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Crée un backup complet de Baïkal (données, config, base).            │
│                                                                          │
│ CONTENU DU BACKUP :                                                     │
│   - /var/www/baikal/Specific/  (données utilisateurs)                  │
│   - /var/www/baikal/config/    (configuration)                         │
│   - Base de données (SQLite ou dump MySQL)                              │
│   - Configuration Nginx                                                  │
│                                                                          │
│ EMPLACEMENT :                                                            │
│   /var/backups/baikal/baikal_YYYYMMDD_HHMMSS.tar.gz                     │
│                                                                          │
│ RÉTENTION :                                                              │
│   30 jours par défaut (configurable)                                    │
│                                                                          │
│ UTILISATION :                                                            │
│   sudo ./maintenance/backup.sh                                           │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│ setup_backup.sh - Configuration backups automatiques                     │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Configure les backups automatiques via cron.                          │
│                                                                          │
│ OPTIONS DE FRÉQUENCE :                                                  │
│   1. Quotidien (3h du matin)                                            │
│   2. Hebdomadaire (dimanche 3h)                                         │
│   3. Personnalisé (cron custom)                                         │
│                                                                          │
│ CONFIGURATION :                                                          │
│   - Copie backup.sh vers /usr/local/bin/                               │
│   - Ajoute tâche cron                                                   │
│   - Configure rotation logs                                             │
│   - Crée /root/baikal_backup_config.txt                                │
│                                                                          │
│ FICHIERS CRÉÉS :                                                        │
│   /usr/local/bin/backup_baikal.sh                                       │
│   /var/log/baikal_backup.log                                            │
│   /etc/logrotate.d/baikal-backup                                        │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│ update.sh - Mise à jour Baïkal                                           │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Met à jour Baïkal vers une nouvelle version depuis GitHub.            │
│                                                                          │
│ ÉTAPES :                                                                │
│   1. Récupération versions disponibles (GitHub API)                     │
│   2. Affichage versions avec statut (stable/pre-release)                │
│   3. Sélection version par utilisateur                                  │
│   4. Création backup automatique                                        │
│   5. Téléchargement nouvelle version                                    │
│   6. Arrêt services                                                     │
│   7. Sauvegarde données (Specific/, config/)                           │
│   8. Installation nouvelle version                                      │
│   9. Restauration données                                               │
│   10. Correction permissions                                            │
│   11. Redémarrage services                                              │
│   12. Vérification installation                                         │
│                                                                          │
│ SÉCURITÉ :                                                              │
│   - Backup avant toute modification                                     │
│   - Rollback automatique si échec                                       │
│   - Préservation totale des données                                     │
│                                                                          │
│ DÉPENDANCES :                                                            │
│   curl, jq, wget, tar                                                    │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│ check_updates.sh - Vérifier mises à jour                                 │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Vérifie rapidement si une mise à jour est disponible.                │
│                                                                          │
│ AFFICHAGE :                                                             │
│   - Version actuelle installée                                          │
│   - Dernière version stable disponible                                  │
│   - Indication si mise à jour nécessaire                                │
│                                                                          │
│ UTILISATION :                                                            │
│   sudo ./maintenance/check_updates.sh                                    │
└─────────────────────────────────────────────────────────────────────────┘

================================================================================
DOSSIER 3 : troubleshoot/
================================================================================

Scripts de diagnostic et réparation pour résoudre les problèmes courants.

┌─────────────────────────────────────────────────────────────────────────┐
│ diagnose.sh - Diagnostic système complet                                 │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Script de diagnostic tout-en-un consolidant tous les diagnostics.     │
│                                                                          │
│ DIAGNOSTICS INTÉGRÉS :                                                  │
│   1. État des services                                                  │
│   2. Permissions fichiers                                               │
│   3. Base de données (intégrité)                                        │
│   4. Utilisateurs et calendriers                                        │
│   5. URIs principals                                                    │
│   6. Logs erreurs récentes                                              │
│   7. Configuration Nginx/PHP                                            │
│   8. Connectivité réseau                                                │
│                                                                          │
│ SORTIE :                                                                 │
│   Rapport détaillé avec :                                               │
│   - Problèmes détectés                                                  │
│   - Gravité (critique/avertissement/info)                               │
│   - Solutions recommandées                                              │
│   - Commandes de correction                                             │
│                                                                          │
│ UTILISATION :                                                            │
│   sudo ./troubleshoot/diagnose.sh                                        │
│                                                                          │
│ OPTIONS :                                                                │
│   --quick    : Diagnostic rapide (services + permissions)               │
│   --full     : Diagnostic complet (défaut)                              │
│   --database : Focus sur base de données uniquement                     │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│ fix_permissions.sh - Correction permissions                              │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Corrige automatiquement les permissions de tous les fichiers Baïkal.  │
│                                                                          │
│ ACTIONS :                                                                │
│   1. Arrêt temporaire Nginx                                             │
│   2. Correction propriétaire (www-data:www-data)                        │
│   3. Correction permissions :                                           │
│      - /var/www/baikal/         → 755                                   │
│      - html/                    → 755                                   │
│      - Specific/                → 770                                   │
│      - config/                  → 770                                   │
│      - Specific/db/db.sqlite    → 660                                   │
│   4. Vérification accès écriture                                        │
│   5. Redémarrage Nginx                                                  │
│                                                                          │
│ UTILISATION :                                                            │
│   sudo ./troubleshoot/fix_permissions.sh                                 │
│                                                                          │
│ QUAND L'UTILISER :                                                      │
│   - Erreur "Permission denied" dans les logs                            │
│   - Erreur "MODIFICATION_FAILED" dans Thunderbird                       │
│   - Impossible de créer événements/contacts                             │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│ fix_database.sh - Réparation base de données                             │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Diagnostique et répare les problèmes de base de données SQLite.       │
│                                                                          │
│ DIAGNOSTIC :                                                             │
│   ✓ Intégrité (PRAGMA integrity_check)                                 │
│   ✓ Quick check (PRAGMA quick_check)                                   │
│   ✓ Structure tables                                                    │
│   ✓ Clés étrangères                                                     │
│   ✓ Lecture/écriture                                                    │
│                                                                          │
│ MÉTHODES DE RÉPARATION :                                                │
│   1. REINDEX - Reconstruction des index                                 │
│   2. VACUUM - Nettoyage et compaction                                   │
│   3. Export/Import - Reconstruction complète                            │
│                                                                          │
│ SÉCURITÉ :                                                              │
│   - Backup automatique avant réparation                                 │
│   - Arrêt services pendant réparation                                   │
│   - Restauration auto si échec                                          │
│                                                                          │
│ UTILISATION :                                                            │
│   sudo ./troubleshoot/fix_database.sh                                    │
│                                                                          │
│ QUAND L'UTILISER :                                                      │
│   - Erreur "database disk image is malformed"                           │
│   - Monitoring signale problème intégrité                               │
│   - Base corrompue                                                       │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│ fix_principals.sh - Correction URIs utilisateurs                         │
├─────────────────────────────────────────────────────────────────────────┤
│ FONCTION :                                                               │
│   Corrige les URIs de principals créés incorrectement par Baïkal.       │
│                                                                          │
│ PROBLÈME CORRIGÉ :                                                      │
│   Incorrect : principals/Olivier                                         │
│   Correct   : principals/users/olivier/                                  │
│                                                                          │
│ ACTIONS :                                                                │
│   1. Détection principals non-standard                                  │
│   2. Affichage utilisateurs affectés                                    │
│   3. Création backup base                                               │
│   4. Arrêt services                                                     │
│   5. Correction URI principal                                           │
│   6. Mise à jour calendriers associés                                   │
│   7. Mise à jour carnets d'adresses                                     │
│   8. Conversion minuscules (olivier)                                    │
│   9. Vérification intégrité                                             │
│   10. Redémarrage services                                              │
│                                                                          │
│ SORTIE :                                                                 │
│   Nouvelles URLs CalDAV/CardDAV à utiliser                              │
│                                                                          │
│ UTILISATION :                                                            │
│   sudo ./troubleshoot/fix_principals.sh                                  │
│                                                                          │
│ QUAND L'UTILISER :                                                      │
│   - Erreur "Aucun agenda à cette adresse" dans Thunderbird             │
│   - URLs standards ne fonctionnent pas                                  │
│   - diagnose.sh signale URIs non-standard                               │
└─────────────────────────────────────────────────────────────────────────┘

================================================================================
DOSSIER 4 : docs/
================================================================================

Documentation Markdown complète et détaillée.

INSTALL.md
  - Guide d'installation pas à pas
  - Explications détaillées de chaque étape
  - Captures d'écran (si disponibles)
  - Troubleshooting installation

CLIENTS.md
  - Configuration iOS/iPadOS
  - Configuration Android (DAVx⁵)
  - Configuration Thunderbird
  - Configuration macOS
  - Configuration Windows
  - Configuration Linux
  - Tests et vérification

TROUBLESHOOTING.md
  - Problèmes courants et solutions
  - Codes d'erreur et signification
  - Logs à consulter
  - Commandes de diagnostic
  - Procédures de restauration

MYSQL.md
  - Installation MySQL
  - Configuration optimisée
  - Backups MySQL
  - Migration SQLite → MySQL
  - Maintenance MySQL

SECURITY.md
  - Checklist sécurité
  - Configuration firewall
  - HTTPS obligatoire
  - Mots de passe forts
  - Fail2ban
  - Mises à jour
  - Audit logs

================================================================================
FLUX DE TRAVAIL TYPIQUE
================================================================================

INSTALLATION INITIALE :
1. ./install/start.sh (menu interactif)
   OU
   ./install/check_prereqs.sh → ./install/baikal_install.sh

2. Configuration web (navigateur)

3. ./install/setup_ssl.sh (si accès distant)

4. ./maintenance/setup_backup.sh

MAINTENANCE QUOTIDIENNE :
1. ./maintenance/monitor.sh (vérifier état)
2. Consulter logs si problèmes détectés

MISE À JOUR :
1. ./maintenance/check_updates.sh
2. ./maintenance/update.sh (si mise à jour disponible)

EN CAS DE PROBLÈME :
1. ./troubleshoot/diagnose.sh (identifier le problème)
2. Appliquer le fix approprié :
   - ./troubleshoot/fix_permissions.sh
   - ./troubleshoot/fix_database.sh
   - ./troubleshoot/fix_principals.sh

================================================================================
CONVENTIONS DE CODE
================================================================================

SHEBANG :
  #!/bin/bash

OPTIONS BASH :
  set -e  (arrêt si erreur)

COULEURS :
  RED='\033[0;31m'
  GREEN='\033[0;32m'
  YELLOW='\033[1;33m'
  BLUE='\033[0;34m'
  CYAN='\033[0;36m'
  NC='\033[0m'

FONCTIONS LOG :
  log_info()    - Messages d'information (vert)
  log_warn()    - Avertissements (jaune)
  log_error()   - Erreurs (rouge)
  log_step()    - Étapes de processus (bleu)

STRUCTURE TYPE :
  1. Shebang et description
  2. Variables de configuration
  3. Vérification root
  4. Fonctions utilitaires
  5. Fonction principale
  6. Appel fonction principale

COMMENTAIRES :
  - Header avec description complète
  - Commentaires explicatifs dans le code
  - TODO pour améliorations futures

================================================================================
DÉPENDANCES SYSTÈME
================================================================================

OBLIGATOIRES :
  - bash 5.0+
  - curl
  - wget
  - tar
  - gzip

POUR INSTALLATION :
  - apt (Debian/Ubuntu)
  - nginx
  - php 8.2 ou 8.3
  - sqlite3 ou mysql-server

POUR MISE À JOUR :
  - jq (parsing JSON GitHub API)

POUR SSL :
  - certbot
  - python3-certbot-nginx

================================================================================
FICHIERS CRÉÉS APRÈS INSTALLATION
================================================================================

SUR LE SYSTÈME :
  /var/www/baikal/                    - Installation Baïkal
  /etc/nginx/sites-available/baikal   - Config Nginx
  /var/backups/baikal/                - Backups
  /var/log/nginx/baikal_*.log         - Logs
  /usr/local/bin/backup_baikal.sh     - Script backup (si configuré)

FICHIERS D'INFORMATION :
  /root/baikal_install_info.txt       - Infos installation
  /root/baikal_ssl_info.txt           - Infos SSL (si configuré)
  /root/baikal_backup_config.txt      - Infos backups (si configuré)

================================================================================
VERSIONS ET COMPATIBILITÉ
================================================================================

PHP :
  - Baïkal 0.9.x  → PHP >= 7.4
  - Baïkal 0.10.x → PHP >= 8.1
  - Baïkal 0.11.x → PHP >= 8.2

SYSTÈMES :
  ✓ Debian 10, 11, 12
  ✓ Ubuntu 20.04, 22.04, 24.04
  ⚠ Autres distributions non testées

BASE DE DONNÉES :
  - SQLite : Recommandé pour 1-10 utilisateurs
  - MySQL : Recommandé pour 20+ utilisateurs

================================================================================
SUPPORT ET RESSOURCES
================================================================================

DOCUMENTATION BAÏKAL :
  https://sabre.io/baikal/

GITHUB :
  https://github.com/sabre-io/Baikal
  https://github.com/Olivier1246/Baikal (ce projet)

COMMUNAUTÉ :
  https://github.com/sabre-io/Baikal/discussions

================================================================================
FIN DU DOCUMENT
================================================================================
